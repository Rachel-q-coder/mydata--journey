# 177.Number-High-Rank

## 题目表述：

编写一个解决方案查询 Employee 表中第 n 高的 不同 工资。如果少于 n 个不同工资，查询结果应该为 null 。

Employee表
```
+----+--------+
| id | salary |
+----+--------+
| 1  | 100    |
| 2  | 200    |
| 3  | 300    |
+----+--------+
```

## 我的思路：

1.**需求分析：**  题目说明第n高，那么就要跳过n-1行，此处有表达式，若为查询到，则返回null

2.**解题思路：** 此题是176题的延申，采用上题的思路，使用limit和offset结合

## SQL代码

```
CREATE FUNCTION getNthHighestSalary(N INT) RETURNS INT
BEGIN
    DECLARE NewN INT;
    set NewN=N-1;
    RETURN (
        select distinct salary
        from employee
        order by salary desc
        limit 1 offset NewN        
  );
END
```
这里的limit 1 offset NewN可更改为limit NewN,1

## 总结感悟：

1. 在return语句里：不能有注释；
   
2. set以及declare要在return外声明
   
3. limit语句可以接受数字字面量和变量，但不能出现表达式和函数。所以在第一次运行，limit 1 offset （n-1）会报错，因为此时这里是表达式
